---
import DocsLayout from '../layouts/DocsLayout.astro';

const joinPath = (path: string) => {
  const base = import.meta.env.BASE_URL;
  if (base === '/') {
    return path.startsWith('/') ? path : `/${path}`;
  }
  const cleanBase = base.endsWith('/') ? base.slice(0, -1) : base;
  const cleanPath = path.startsWith('/') ? path : `/${path}`;
  return `${cleanBase}${cleanPath}`;
};
---

<DocsLayout title="Omnia Documentation" description="Kubernetes operator for managing AI agent deployments">
  <div>
    <h1>Omnia Documentation</h1>

    <p style="font-size: 1.25rem; margin-bottom: 2rem;">
      <strong>Kubernetes operator for managing AI agent deployments with prompt pack management and tool orchestration</strong>
    </p>

    <hr />

    <h2>What is Omnia?</h2>

    <p>
      Omnia is a Kubernetes operator that simplifies the deployment and management of AI agents.
      It provides custom resources for defining agent configurations, prompt packs, and tool registries,
      enabling you to deploy intelligent agents at scale.
    </p>

    <h3>Key Features</h3>

    <ul>
      <li><strong>AgentRuntime CRD</strong> - Deploy AI agents as Kubernetes-native workloads</li>
      <li><strong>PromptPack CRD</strong> - Version and manage prompt configurations</li>
      <li><strong>ToolRegistry CRD</strong> - Discover and orchestrate tools for agents</li>
      <li><strong>WebSocket Facade</strong> - Real-time communication with deployed agents</li>
      <li><strong>Session Management</strong> - Redis and in-memory session stores</li>
      <li><strong>Helm Chart</strong> - Easy installation and configuration</li>
    </ul>

    <hr />

    <h2>Documentation Structure</h2>

    <p>This documentation follows the <a href="https://diataxis.fr/" target="_blank">Diataxis framework</a>:</p>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
      <div style="padding: 1rem; border: 1px solid var(--color-border); border-radius: 8px;">
        <h3 style="margin: 0 0 0.5rem 0;">Tutorials</h3>
        <p style="margin: 0 0 0.5rem 0; font-size: 0.875rem; color: #57606a;">Learning-oriented</p>
        <p style="margin: 0; font-size: 0.875rem;">Step-by-step guides to get you started with Omnia.</p>
        <p style="margin-top: 0.75rem;"><a href={joinPath('/tutorials/')}>Start Learning</a></p>
      </div>

      <div style="padding: 1rem; border: 1px solid var(--color-border); border-radius: 8px;">
        <h3 style="margin: 0 0 0.5rem 0;">How-To Guides</h3>
        <p style="margin: 0 0 0.5rem 0; font-size: 0.875rem; color: #57606a;">Task-oriented</p>
        <p style="margin: 0; font-size: 0.875rem;">Practical guides for specific tasks and goals.</p>
        <p style="margin-top: 0.75rem;"><a href={joinPath('/how-to/')}>Find Solutions</a></p>
      </div>

      <div style="padding: 1rem; border: 1px solid var(--color-border); border-radius: 8px;">
        <h3 style="margin: 0 0 0.5rem 0;">Reference</h3>
        <p style="margin: 0 0 0.5rem 0; font-size: 0.875rem; color: #57606a;">Information-oriented</p>
        <p style="margin: 0; font-size: 0.875rem;">Technical specifications, CRD schemas, and API docs.</p>
        <p style="margin-top: 0.75rem;"><a href={joinPath('/reference/')}>Browse Reference</a></p>
      </div>

      <div style="padding: 1rem; border: 1px solid var(--color-border); border-radius: 8px;">
        <h3 style="margin: 0 0 0.5rem 0;">Concepts</h3>
        <p style="margin: 0 0 0.5rem 0; font-size: 0.875rem; color: #57606a;">Understanding-oriented</p>
        <p style="margin: 0; font-size: 0.875rem;">Background and explanations of how Omnia works.</p>
        <p style="margin-top: 0.75rem;"><a href={joinPath('/explanation/')}>Understand Omnia</a></p>
      </div>
    </div>

    <hr />

    <h2>Quick Start</h2>

    <p>Install Omnia using Helm:</p>

    <pre><code>helm repo add omnia https://altairalabs.github.io/omnia/charts
helm install omnia omnia/omnia --namespace omnia-system --create-namespace</code></pre>

    <p>Then deploy your first agent:</p>

    <pre><code>kubectl apply -f - &lt;&lt;EOF
apiVersion: omnia.altairalabs.ai/v1alpha1
kind: AgentRuntime
metadata:
  name: my-agent
spec:
  replicas: 1
  provider:
    name: openai
    model: gpt-4
  promptPackRef:
    name: my-promptpack
EOF</code></pre>

    <p>For a complete walkthrough, see the <a href={joinPath('/tutorials/getting-started/')}>Getting Started Tutorial</a>.</p>

    <hr />

    <h2>Need Help?</h2>

    <ul>
      <li><a href="https://github.com/altairalabs/omnia/issues" target="_blank">Report Issues</a></li>
      <li><a href="https://github.com/altairalabs/omnia/discussions" target="_blank">Discussions</a></li>
      <li><a href="https://github.com/altairalabs/omnia" target="_blank">GitHub Repository</a></li>
    </ul>

    <hr />

    <p style="text-align: center; color: var(--color-text); opacity: 0.7; font-size: 0.875rem; margin-top: 2rem;">
      Built with care by <a href="https://altairalabs.ai" target="_blank">AltairaLabs</a> |
      <a href="https://github.com/altairalabs/omnia/blob/main/LICENSE" target="_blank">Apache 2.0 License</a>
    </p>
  </div>
</DocsLayout>
